webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12",attrs:{id:"app"}},[this._m(0),this._v(" "),e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[this._v("You gist list")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/token"}},[this._v("Git token")])],1)])])]),this._v(" "),e("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"head"}},[e("img",{staticClass:"logo",attrs:{src:n("PxyX")}}),this._v(" "),e("div",{staticClass:"col-sm-12 copy"},[this._v("\n\t\t\tАвторские права © 2018 Щербина Игорь Все права защищены\n\t\t")])])}]};var i=n("VU/8")({name:"App"},a,!1,function(t){n("ksKN")},null,null).exports,r=n("/ocq"),o=n("Xxa5"),c=n.n(o),l=n("fZjL"),u=n.n(l),p=n("exGp"),v=n.n(p),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm",on:{click:this.click}},[e("svg",{staticClass:"octicon octicon-clippy",attrs:{width:"14",height:"16"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"}})])])},staticRenderFns:[]},h={name:"Gist",components:{BtnCopy:n("VU/8")({name:"BtnCopy",methods:{click:function(t){this.$emit("click",t)}}},d,!1,null,null,null).exports},data:function(){return{isBtnActive:!1}},props:{gist:{type:Object,content:""}},methods:{copyToBuffer:function(){var t=this;return v()(c.a.mark(function e(){var n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isBtnActive=!0,e.prev=1,e.next=4,t.$gitApi.getGistContent(t.gist.id,!1);case 4:n=e.sent,(s=document.createElement("textarea")).innerHTML=n,document.body.appendChild(s),s.select(),document.execCommand("copy")?setTimeout(function(){t.isBtnActive=!1},200):t.isBtnActive=!1,s.remove(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error",e.t0);case 18:case"end":return e.stop()}},e,t,[[1,15]])}))()}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list-group-item"},[n("div",{staticClass:"row d-flex align-items-center"},[n("div",{staticClass:"col-sm-2 align-middle"},[n("btn-copy",{class:t.isBtnActive?"btn-active":"",on:{click:function(e){return e.preventDefault(),t.copyToBuffer(e)}}})],1),t._v(" "),n("div",{staticClass:"col-sm-10 text-left"},[n("router-link",{staticClass:"nav-link",attrs:{to:{path:"/gist-content/"+t.gist.id}}},[t._v("\n\t\t\t\t"+t._s(t.gist.title)+"\n\t\t\t")])],1)])])},staticRenderFns:[]};var g={name:"List",components:{Gist:n("VU/8")(h,f,!1,function(t){n("fhmT")},"data-v-0a22c73e",null).exports},computed:{countRows:function(){return this.filterList.length},pageTotal:function(){return Math.ceil(this.countRows/this.pageSize)},filterList:function(){var t=this;return[].concat(this.list.filter(function(e){return e.title.includes(t.filter)}))},pageRows:function(){return this.filterList.slice(this.pageStartIndex,this.pageStartIndex+this.pageSize)},pageStartIndex:function(){return this.pageNow*this.pageSize>this.countRows&&(this.pageNow=0),this.pageNow*this.pageSize}},data:function(){return{pageSize:6,pageNow:0,list:[],filter:""}},methods:{setPage:function(t){t=(t=t<0?0:t)>this.pageTotal-1?this.pageTotal-1:t,this.pageNow=t}},mounted:function(){var t=this;return v()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$gitApi.getGists();case 3:n=e.sent,t.list=n.map(function(t){var e=u()(t.files),n=t.files[e];return{title:"["+e+"] "+t.description,rawUrl:n.raw_url,id:t.id}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error mounted List",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page",{attrs:{title:"Gist list"}},[n("div",{staticClass:"page-cont"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[t.pageTotal>1?n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",on:{click:function(e){e.preventDefault(),t.setPage(t.pageNow-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pageTotal,function(e){return n("li",{key:"page_"+e,staticClass:"page-item"},[n("a",{class:"page-link"+(t.pageNow===e-1?" active":""),on:{click:function(n){n.preventDefault(),t.setPage(e-1)}}},[t._v(t._s(e))])])}),t._v(" "),n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",on:{click:function(e){e.preventDefault(),t.setPage(t.pageNow+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2):t._e(),t._v(" "),n("ul",{staticClass:"list-group"},t._l(t.pageRows,function(t){return n("gist",{key:t.id,attrs:{gist:t}})}))])])])])},staticRenderFns:[]};var k=n("VU/8")(g,m,!1,function(t){n("ac1W")},"data-v-3483f38c",null).exports,w=n("U0v6"),C=n.n(w),_=n("1P+R"),x={name:"Token",components:{FontAwesomeIcon:C.a},computed:{tokenType:function(){return this.isShowToken?"text":"password"},icon:function(){return this.isShowToken?_.b:_.a},token:{get:function(){return localStorage.getItem("token")},set:function(t){localStorage.setItem("token",t)}}},data:function(){return{isShowToken:!1}},methods:{changeShow:function(){this.isShowToken=!this.isShowToken}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("page",{attrs:{title:"Git auth token"}},[n("div",{staticClass:"page-cont"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend",on:{click:function(e){return e.preventDefault(),t.changeShow(e)}}},[n("div",{staticClass:"input-group-text",attrs:{id:"btnGroupAddon"}},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1)]),t._v(" "),"checkbox"===t.tokenType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",attrs:{id:"token",placeholder:"Set token",type:"checkbox"},domProps:{checked:Array.isArray(t.token)?t._i(t.token,null)>-1:t.token},on:{change:function(e){var n=t.token,s=e.target,a=!!s.checked;if(Array.isArray(n)){var i=t._i(n,null);s.checked?i<0&&(t.token=n.concat([null])):i>-1&&(t.token=n.slice(0,i).concat(n.slice(i+1)))}else t.token=a}}}):"radio"===t.tokenType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",attrs:{id:"token",placeholder:"Set token",type:"radio"},domProps:{checked:t._q(t.token,null)},on:{change:function(e){t.token=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",attrs:{id:"token",placeholder:"Set token",type:t.tokenType},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}})])])])])])},staticRenderFns:[]},b=n("VU/8")(x,y,!1,null,null,null).exports,S={name:"GistContent",data:function(){return{cont:""}},mounted:function(){var t=this;return v()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$gitApi.getGistContent(t.$route.params.id);case 3:t.cont=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error mounted GistContent",e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("page",{attrs:{title:"Gist content"}},[e("div",{staticClass:"page-cont"},[e("div",{staticClass:"row"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[this._v("Back to gist list")])],1),this._v(" "),e("div",{staticClass:"row"},[e("textarea",{staticClass:"form-control",attrs:{rows:"10"},domProps:{innerHTML:this._s(this.cont)}})])])])},staticRenderFns:[]};var A=n("VU/8")(S,T,!1,function(t){n("sf+I")},"data-v-403d14d7",null).exports;s.a.use(r.a);var G=new r.a({routes:[{path:"/",name:"List",component:k},{path:"/token",name:"Token",component:b},{path:"/gist-content/:id",name:"Gist content",component:A}]}),N=n("gRE1"),P=n.n(N),R=n("Zrlr"),H=n.n(R),E=n("wxAW"),$=n.n(E),z=n("Dd8w"),V=n.n(z),B=n("//Fk"),L=n.n(B),F=function(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return new L.a(function(i,r){var o=localStorage.getItem("token"),c=new XMLHttpRequest;c.open(n,t,a),c.onload=function(t){try{var e=JSON.parse(t.target.responseText);i(e)}catch(t){console.error("Parse response bad",t),r(t)}},c.onerror=r;var l=V()({Accept:"application/vnd.github.jean-grey-preview+json",Authorization:"token "+o},s);for(var u in l)c.setRequestHeader(u,l[u]);c.send(e)})},I=function(t,e,n,s){return F(t,e,"GET",s,n)},M="https://api.github.com",U=function(){function t(){H()(this,t)}return $()(t,[{key:"getGists",value:function(){var t=v()(c.a.mark(function t(){var e;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(M+"/gists");case 2:return e=t.sent,t.abrupt("return",e||[]);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getGistContent",value:function(){var t=v()(c.a.mark(function t(e){var n,s,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(M+"/gists/"+e,{},a);case 2:return n=t.sent,s=P()(n.files).shift(),t.abrupt("return",s.content||"");case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),j={install:function(t){var e=new U;Object.defineProperty(t.prototype,"$gitApi",{get:function(){return e}})}},D={name:"Page",props:{title:{type:String,default:""}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cont"},[this.title?e("div",{staticClass:"row"},[e("div",{staticClass:"offset-1"},[e("h1",[this._v(this._s(this.title))])])]):this._e(),this._v(" "),this._t("default")],2)},staticRenderFns:[]},O=n("VU/8")(D,q,!1,null,null,null).exports;s.a.component("page",O),s.a.config.productionTip=!1,s.a.use(j),new s.a({el:"#app",router:G,components:{App:i},template:"<App/>"})},PxyX:function(t,e,n){t.exports=n.p+"static/img/github-logo-1.89c2c06.png"},ac1W:function(t,e){},fhmT:function(t,e){},ksKN:function(t,e){},"sf+I":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6789a60d92123d6021b7.js.map